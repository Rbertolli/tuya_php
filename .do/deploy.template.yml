spec:
  name: tuya-app
  envs:
      - key: TUYA_API_KEY
        value: "PUT HERE YOUR TUYA_API_KEY"
        scope: RUN_TIME
      - key: TUYA_API_SECRET
        value: "PUT HERE YOUR TUYA_API_SECRET"
        scope: RUN_TIME
      - key: TUYA_REGION
        value: "PUT HERE YOUR TUYA_REGION"
        scope: RUN_TIME
  features:
    - buildpack-stack=ubuntu-22
  functions:
    - name: tuya
      github:
        repo: rbertolli/tuya_php
        branch: main
        deploy_on_push: true
      source_dir: packages/tuya      
      routes:
        - path: /tuya
  packages:
    - name: tuya
      functions:
        - name: tuya-login
          web: true
          limits:
            timeout: 3000      # tempo máximo de execução em milissegundos
            memory: 128        # memória máxima em megabytes
            logs: 1024         # limite de logs em kilobytes
        - name: tuya-smart-lock
          web: true
          limits:
            timeout: 3000
            memory: 128
            logs: 1024